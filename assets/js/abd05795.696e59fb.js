"use strict";(self.webpackChunkctrlpanel=self.webpackChunkctrlpanel||[]).push([[5275],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>p});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=c(t),p=o,v=m["".concat(s,".").concat(p)]||m[p]||u[p]||r;return t?a.createElement(v,l(l({ref:n},d),{},{components:t})):a.createElement(v,l({ref:n},d))}));function p(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,l=new Array(r);l[0]=m;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var c=2;c<r;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},3901:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(7294),o=t(3743);const r="tableOfContentsInline_prmo";function l(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:l}=e;return a.createElement("div",{className:r},a.createElement(o.Z,{toc:n,minHeadingLevel:t,maxHeadingLevel:l,className:"table-of-contents",linkClassName:null}))}},3743:(e,n,t)=>{t.d(n,{Z:()=>v});var a=t(3117),o=t(7294),r=t(6668);function l(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);n.forEach(((e,n)=>{const a=t.slice(2,e.level);e.parentIndex=Math.max(...a),t[e.level]=n}));const a=[];return n.forEach((e=>{const{parentIndex:t,...o}=e;t>=0?n[t].children.push(o):a.push(o)})),a}function i(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:a}=e;return n.flatMap((e=>{const n=i({toc:e.children,minHeadingLevel:t,maxHeadingLevel:a});return function(e){return e.level>=t&&e.level<=a}(e)?[{...e,children:n}]:n}))}function s(e){const n=e.getBoundingClientRect();return n.top===n.bottom?s(e.parentNode):n}function c(e,n){let{anchorTopOffset:t}=n;const a=e.find((e=>s(e).top>=t));if(a){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(s(a))?a:e[e.indexOf(a)-1]??null}return e[e.length-1]??null}function d(){const e=(0,o.useRef)(0),{navbar:{hideOnScroll:n}}=(0,r.L)();return(0,o.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function u(e){const n=(0,o.useRef)(void 0),t=d();(0,o.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:a,linkActiveClassName:o,minHeadingLevel:r,maxHeadingLevel:l}=e;function i(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(a),i=function(e){let{minHeadingLevel:n,maxHeadingLevel:t}=e;const a=[];for(let o=n;o<=t;o+=1)a.push(`h${o}.anchor`);return Array.from(document.querySelectorAll(a.join()))}({minHeadingLevel:r,maxHeadingLevel:l}),s=c(i,{anchorTopOffset:t.current}),d=e.find((e=>s&&s.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(o),e.classList.add(o),n.current=e):e.classList.remove(o)}(e,e===d)}))}return document.addEventListener("scroll",i),document.addEventListener("resize",i),i(),()=>{document.removeEventListener("scroll",i),document.removeEventListener("resize",i)}}),[e,t])}function m(e){let{toc:n,className:t,linkClassName:a,isChild:r}=e;return n.length?o.createElement("ul",{className:r?void 0:t},n.map((e=>o.createElement("li",{key:e.id},o.createElement("a",{href:`#${e.id}`,className:a??void 0,dangerouslySetInnerHTML:{__html:e.value}}),o.createElement(m,{isChild:!0,toc:e.children,className:t,linkClassName:a}))))):null}const p=o.memo(m);function v(e){let{toc:n,className:t="table-of-contents table-of-contents__left-border",linkClassName:s="table-of-contents__link",linkActiveClassName:c,minHeadingLevel:d,maxHeadingLevel:m,...v}=e;const f=(0,r.L)(),h=d??f.tableOfContents.minHeadingLevel,g=m??f.tableOfContents.maxHeadingLevel,y=function(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:a}=e;return(0,o.useMemo)((()=>i({toc:l(n),minHeadingLevel:t,maxHeadingLevel:a})),[n,t,a])}({toc:n,minHeadingLevel:h,maxHeadingLevel:g});return u((0,o.useMemo)((()=>{if(s&&c)return{linkClassName:s,linkActiveClassName:c,minHeadingLevel:h,maxHeadingLevel:g}}),[s,c,h,g])),o.createElement(p,(0,a.Z)({toc:y,className:t,linkClassName:s},v))}},7960:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var a=t(3117),o=(t(7294),t(3905)),r=t(3901);const l={sidebar_position:4},i="Uninstalling",s={unversionedId:"Guides/uninstalling",id:"version-0.9.1/Guides/uninstalling",title:"Uninstalling",description:"These instructions are for the default instalation. If needed please change the fields accordingly to how you setup your dashboard.",source:"@site/versioned_docs/version-0.9.1/Guides/uninstalling.md",sourceDirName:"Guides",slug:"/Guides/uninstalling",permalink:"/docs/0.9.1/Guides/uninstalling",draft:!1,editUrl:"https://github.com/Ctrlpanel-gg/panel/versioned_docs/version-0.9.1/Guides/uninstalling.md",tags:[],version:"0.9.1",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"version-0.9.1/tutorialSidebar",previous:{title:"Themes",permalink:"/docs/0.9.1/Guides/themes"},next:{title:"Uninstallation",permalink:"/docs/0.9.1/Guides/uninstallation"}},c={},d=[{value:"Disable Everything",id:"disable-everything",level:3},{value:"Remove",id:"remove",level:2},{value:"Service and cronjob Removal",id:"service-and-cronjob-removal",level:3},{value:"Website Configuration and SSL certificates Removal",id:"website-configuration-and-ssl-certificates-removal",level:3},{value:"Database Removal",id:"database-removal",level:3},{value:"File Removal",id:"file-removal",level:3},{value:"Extra Dependency Removal (optional)",id:"extra-dependency-removal-optional",level:3},{value:"Pterodactyl API Key Removal (optional)",id:"pterodactyl-api-key-removal-optional",level:3}],u={toc:d};function m(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"uninstalling"},"Uninstalling"),(0,o.kt)("p",null,"These instructions are for the default instalation. If needed please change the fields accordingly to how you setup your dashboard."),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"This will delete all data on your dashboard. This will only work if you follow the documentation.")),(0,o.kt)(r.Z,{toc:d,mdxType:"TOCInline"}),(0,o.kt)("h3",{id:"disable-everything"},"Disable Everything"),(0,o.kt)("p",null,"Before we can even start uninstalling Ctrlpanel, we must disable everything to stop it from running anymore. Run the following commands to stop dashboard:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd /var/www/controlpanel\nsudo php artisan down\n\nsudo systemctl stop controlpanel\n")),(0,o.kt)("h2",{id:"remove"},"Remove"),(0,o.kt)("h3",{id:"service-and-cronjob-removal"},"Service and cronjob Removal"),(0,o.kt)("p",null,"The first step is to uninstall the .service file and the cronjob. To do so, run the following commands:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl stop controlpanel\nsudo systemctl disable controlpanel\nsudo rm /etc/systemd/system/controlpanel.service\nsudo systemctl daemon-reload\nsudo systemctl reset-failed\n")),(0,o.kt)("p",null,"To open the crontab, run: ",(0,o.kt)("inlineCode",{parentName:"p"},"crontab -e")," and remove the following configuration from crontab:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"* * * * * php /var/www/controlpanel/artisan schedule:run >> /dev/null 2>&1\n")),(0,o.kt)("h3",{id:"website-configuration-and-ssl-certificates-removal"},"Website Configuration and SSL certificates Removal"),(0,o.kt)("p",null,"We will now uninstall the website configuration and remove all SSL certificates."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# NGINX\nsudo unlink /etc/nginx/sites-enabled/controlpanel.conf\nsudo rm /etc/nginx/sites-available/controlpanel.conf\nsudo systemctl reload nginx\n# Apache2\nsudo a2dissite controlpanel.conf\nsudo rm /etc/apache2/sites-available/controlpanel.conf\nsudo systemctl reload apache2\n\nsudo certbot delete --cert-name <Your Domain>\n")),(0,o.kt)("h3",{id:"database-removal"},"Database Removal"),(0,o.kt)("p",null,"It's time to remove the database. To completely remove everything run the following commands:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'sudo mysql -u root -p -e "DROP DATABASE controlpanel;"\nsudo mysql -u root -p -e "DROP USER \'controlpaneluser\'@\'127.0.0.1\';"\nsudo mysql -u root -p -e "FLUSH PRIVILEGES;"\n')),(0,o.kt)("h3",{id:"file-removal"},"File Removal"),(0,o.kt)("p",null,"Haha, this is a easy one! To remove all the files it's just one command. The command is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo rm -rf /var/www/controlpanel\n")),(0,o.kt)("h3",{id:"extra-dependency-removal-optional"},"Extra Dependency Removal (optional)"),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"Make sure nothing else that you're running requires this extra dependency. If they do, ignore this step.")),(0,o.kt)("p",null,"There's a extra dependency that we required you installed. To remove it, run the command below. Change the ",(0,o.kt)("inlineCode",{parentName:"p"},"8.3")," to the corrisponding PHP version you have installed, which you can find by running ",(0,o.kt)("inlineCode",{parentName:"p"},"php -v"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt remove php8.3-intl\n")),(0,o.kt)("h3",{id:"pterodactyl-api-key-removal-optional"},"Pterodactyl API Key Removal (optional)"),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"Make sure nothing else that you're running requires the API key you set for Ctrlpanel. If something is, ignore this step.")),(0,o.kt)("p",null,"Log into your Pterodactyl panel and enter the Admin area. Go to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Application API")," (or you can use the endpoint ",(0,o.kt)("inlineCode",{parentName:"p"},"/admin/api"),") and delete the API that you created for Ctrlpanel."),(0,o.kt)("p",null,"Did you encounter any issues? We hope not, however if you have please feel free to create a support thread on our ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/4Y6HjD2uyU"},"Discord"),"."))}m.isMDXComponent=!0}}]);