"use strict";(self.webpackChunkctrlpanel=self.webpackChunkctrlpanel||[]).push([[8739],{2318:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"Installation/additional-configuration","title":"Additional Configuration","description":"Users, folders and filenames have been renamed from \\"dashboard\\" \u21d2 \\"controlpanel\\". Be aware that the provided commands may not fit your installation. Please change the users, folder and filenames for the commands corresponding to your installation.","source":"@site/versioned_docs/version-0.8.x/Installation/additional-configuration.md","sourceDirName":"Installation","slug":"/Installation/additional-configuration","permalink":"/docs/0.8.x/Installation/additional-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/Ctrlpanel-gg/docs/tree/main/versioned_docs/version-0.8.x/Installation/additional-configuration.md","tags":[],"version":"0.8.x","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Getting started","permalink":"/docs/0.8.x/Installation/getting-started"},"next":{"title":"Troubleshooting","permalink":"/docs/0.8.x/Installation/troubleshooting"}}');var a=t(4848),i=t(8453),r=t(4252);const s={sidebar_position:3},l="Additional Configuration",c={},d=[{value:"Misc Configuration",id:"misc-configuration",level:2},{value:"Discord Auth",id:"discord-auth",level:3},{value:"reCAPTCHA v2",id:"recaptcha-v2",level:3},{value:"Manual Mail Configuration",id:"manual-mail-configuration",level:3},{value:"Payment Configuration",id:"payment-configuration",level:3},{value:"PayPal",id:"paypal",level:4},{value:"Stripe",id:"stripe",level:4}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"additional-configuration",children:"Additional Configuration"})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:'Users, folders and filenames have been renamed from "dashboard" \u21d2 "controlpanel". Be aware that the provided commands may not fit your installation. Please change the users, folder and filenames for the commands corresponding to your installation.'})}),"\n","\n",(0,a.jsx)(r.A,{toc:d}),"\n",(0,a.jsx)(n.h2,{id:"misc-configuration",children:"Misc Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"discord-auth",children:"Discord Auth"}),"\n",(0,a.jsxs)(n.p,{children:["Go to ",(0,a.jsx)(n.code,{children:"https://<your.ctrlpanel.gg>/admin/settings#misc"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Setting up Auth"}),(0,a.jsx)("br",{}),"\n",(0,a.jsx)(n.a,{href:"http://faq.demostoreprestashop.com/faq.php?fid=133&pid=41",children:"How"})," to get CLIENT_ID and CLIENT_SECRET ",(0,a.jsx)("br",{}),"\nfor the redirect URI, you have to use YOUR_WEBSITE_URL + /auth/callback (example: ",(0,a.jsx)(n.a,{href:"https://bitsec.dev/auth/callback",children:"https://bitsec.dev/auth/callback"}),")"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Adding the Discord Bot"}),(0,a.jsx)("br",{}),"\nIf you would like to automatically force new users to join your Discord server after they have verified, you will need to set up a Discord bot. This can be an already existing Discord bot in your server."]}),"\n",(0,a.jsx)(n.p,{children:"Add your Discord..."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Bot to your server and give him the appropriate permissions."}),"\n",(0,a.jsx)(n.li,{children:"Bot token on the webpage."}),"\n",(0,a.jsx)(n.li,{children:"Guild ID on the webpage."}),"\n",(0,a.jsx)(n.li,{children:'Then press the "Submit" button.'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"That's it! The Dashboard can now use your bot to make API calls to Discord to place new users into your Discord server. Your bot will not come online as we only use it to make API calls when someone verifies, you can still use your bot as you normally would :)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Custom Role Reward"}),(0,a.jsx)("br",{}),"\nIf you would like to give your users a custom role automatically when they verify their Discord account, you have to copy the ID of an existing role from your Discord server and place it on the webpage as well."]}),"\n",(0,a.jsx)(n.h3,{id:"recaptcha-v2",children:"reCAPTCHA v2"}),"\n",(0,a.jsxs)(n.p,{children:["Go to ",(0,a.jsx)(n.code,{children:"https://<your.ctrlpanel.gg>/admin/settings#misc"})]}),"\n",(0,a.jsx)(n.p,{children:"Controlpanel uses visible reCAPTCHA to secure the login page from brute-force attacks. If the login attempt is considered suspicious, users may be required to perform a reCAPTCHA challenge."}),"\n",(0,a.jsxs)(n.p,{children:["You can generate your own keys in the ",(0,a.jsx)(n.a,{href:"https://www.google.com/recaptcha/admin/create",children:"admin console"})]}),"\n",(0,a.jsx)(n.p,{children:"To add your keys, you need to add them on the webpage."}),"\n",(0,a.jsx)(n.h3,{id:"manual-mail-configuration",children:"Manual Mail Configuration"}),"\n",(0,a.jsxs)(n.p,{children:["To send out notifications and mails, you will need to configure your mail variables correctly.\nYou can use a free mail server; for example, from ",(0,a.jsx)(n.a,{href:"https://www.mailjet.com/",children:"Mailjet"}),". You can also install your own mail server using, for example, ",(0,a.jsx)(n.a,{href:"https://mailcow.email/",children:"mailcow"})]}),"\n",(0,a.jsxs)(n.p,{children:["Go to ",(0,a.jsx)(n.code,{children:"https://<your.ctrlpanel.gg>/admin/settings#misc"})," and enter your mail credentials."]}),"\n",(0,a.jsxs)(n.p,{children:["Ensure you clear the config cache and restart the queue workers when making changes to the email details.",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(n.code,{children:"php artisan config:clear"})," and ",(0,a.jsx)(n.code,{children:"php artisan queue:restart"})]}),"\n",(0,a.jsx)(n.p,{children:"To test the mail configuration, you can go to the users tab and click the notify button top right.\nSelect a user and choose to send via email, write some text and click submit."}),"\n",(0,a.jsx)(n.h3,{id:"payment-configuration",children:"Payment Configuration"}),"\n",(0,a.jsx)(n.h4,{id:"paypal",children:"PayPal"}),"\n",(0,a.jsxs)(n.p,{children:["To use the PayPal payment gateway, you have to set up an application at the PayPal developer dashboard ",(0,a.jsx)(n.code,{children:"https://developer.paypal.com/developer/accounts/"}),"."]}),"\n",(0,a.jsx)(n.p,{children:'Go to "My Apps & Credentials" and choose either "Live" for production use or "Sandbox" for testing use of PayPal.'}),"\n",(0,a.jsx)(n.p,{children:"Create an App, give it any name you want, and copy the Client ID and the Secret into the Settings of Controlpanel."}),"\n",(0,a.jsx)(n.p,{children:'The only "App feature option" that Controlpanel needs is "Accept Payments".'}),"\n",(0,a.jsx)(n.h4,{id:"stripe",children:"Stripe"}),"\n",(0,a.jsxs)(n.p,{children:['To use the Stripe payment gateway, you have to create a "company" at the Stripe dashboard and activate it ',(0,a.jsx)(n.code,{children:"https://dashboard.stripe.com/account/onboarding/business-structure"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Go to the developer page and click on API-Keys. You only need the Secret key in order to use Stripe at your Controlpanel. Copy it to the Payment Settings."}),"\n",(0,a.jsxs)(n.p,{children:["You will need to add a Webhook for Stripe in order to accept payments that are not 100% instantly confirmed by stripe (Klarna, Bank-Transfer etc.).\nClick on Webhooks and add an endpoint.\nEnter the Endpoint route: ",(0,a.jsx)(n.code,{children:"https://<your.ctrlpanel.gg>/payment/StripeWebhooks"}),'.\nChoose the "payment_intent.succeded" event to be sent to your WebhookRoute.\nAfter the webhook creation, you need to add the endpoint secret (Signing secret) to your Controlpanel settings. It can be found at the webhooks overview.']}),"\n",(0,a.jsxs)(n.p,{children:["At the Controlpanel settings, you need to provide a comma separated list of payment methods you want to support via Stripe.\nCheck which payment method is available for your currency: ",(0,a.jsx)(n.code,{children:"https://stripe.com/docs/payments/payment-methods/integration-options"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"You can change the mode between Test and Live, just like PayPal."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},4252:(e,n,t)=>{t.d(n,{A:()=>r});t(6540);var o=t(5195);const a={tableOfContentsInline:"tableOfContentsInline_prmo"};var i=t(4848);function r({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,i.jsx)("div",{className:a.tableOfContentsInline,children:(0,i.jsx)(o.A,{toc:e,minHeadingLevel:n,maxHeadingLevel:t,className:"table-of-contents",linkClassName:null})})}},5195:(e,n,t)=>{t.d(n,{A:()=>f});var o=t(6540),a=t(6342);function i(e){const n=e.map(e=>({...e,parentIndex:-1,children:[]})),t=Array(7).fill(-1);n.forEach((e,n)=>{const o=t.slice(2,e.level);e.parentIndex=Math.max(...o),t[e.level]=n});const o=[];return n.forEach(e=>{const{parentIndex:t,...a}=e;t>=0?n[t].children.push(a):o.push(a)}),o}function r({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return e.flatMap(e=>{const o=r({toc:e.children,minHeadingLevel:n,maxHeadingLevel:t});return function(e){return e.level>=n&&e.level<=t}(e)?[{...e,children:o}]:o})}function s(e){const n=e.getBoundingClientRect();return n.top===n.bottom?s(e.parentNode):n}function l(e,{anchorTopOffset:n}){const t=e.find(e=>s(e).top>=n);if(t){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(s(t))?t:e[e.indexOf(t)-1]??null}return e[e.length-1]??null}function c(){const e=(0,o.useRef)(0),{navbar:{hideOnScroll:n}}=(0,a.p)();return(0,o.useEffect)(()=>{e.current=n?0:document.querySelector(".navbar").clientHeight},[n]),e}function d(e){const n=(0,o.useRef)(void 0),t=c();(0,o.useEffect)(()=>{if(!e)return()=>{};const{linkClassName:o,linkActiveClassName:a,minHeadingLevel:i,maxHeadingLevel:r}=e;function s(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(o),s=function({minHeadingLevel:e,maxHeadingLevel:n}){const t=[];for(let o=e;o<=n;o+=1)t.push(`h${o}.anchor`);return Array.from(document.querySelectorAll(t.join()))}({minHeadingLevel:i,maxHeadingLevel:r}),c=l(s,{anchorTopOffset:t.current}),d=e.find(e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e));e.forEach(e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(a),e.classList.add(a),n.current=e):e.classList.remove(a)}(e,e===d)})}return document.addEventListener("scroll",s),document.addEventListener("resize",s),s(),()=>{document.removeEventListener("scroll",s),document.removeEventListener("resize",s)}},[e,t])}var u=t(8774),h=t(4848);function p({toc:e,className:n,linkClassName:t,isChild:o}){return e.length?(0,h.jsx)("ul",{className:o?void 0:n,children:e.map(e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(u.A,{to:`#${e.id}`,className:t??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(p,{isChild:!0,toc:e.children,className:n,linkClassName:t})]},e.id))}):null}const m=o.memo(p);function f({toc:e,className:n="table-of-contents table-of-contents__left-border",linkClassName:t="table-of-contents__link",linkActiveClassName:s,minHeadingLevel:l,maxHeadingLevel:c,...u}){const p=(0,a.p)(),f=l??p.tableOfContents.minHeadingLevel,g=c??p.tableOfContents.maxHeadingLevel,v=function({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,o.useMemo)(()=>r({toc:i(e),minHeadingLevel:n,maxHeadingLevel:t}),[e,n,t])}({toc:e,minHeadingLevel:f,maxHeadingLevel:g});return d((0,o.useMemo)(()=>{if(t&&s)return{linkClassName:t,linkActiveClassName:s,minHeadingLevel:f,maxHeadingLevel:g}},[t,s,f,g])),(0,h.jsx)(m,{toc:v,className:n,linkClassName:t,...u})}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var o=t(6540);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);