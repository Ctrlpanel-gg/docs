"use strict";(self.webpackChunkcontrolpanel=self.webpackChunkcontrolpanel||[]).push([[1797],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=d(t),m=r,g=u["".concat(s,".").concat(m)]||u[m]||c[m]||o;return t?a.createElement(g,l(l({ref:n},p),{},{components:t})):a.createElement(g,l({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=u;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var d=2;d<o;d++)l[d]=t[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3087:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var a=t(3117),r=(t(7294),t(3905));const o={sidebar_position:5},l="Updating",i={unversionedId:"Installation/updating",id:"Installation/updating",title:"Updating",description:'Users, folders and filenames have been renamed from "dashboard" \u21d2 "controlpanel". Be aware that the provided commands may not fit your installation. Please change the users, folder and filenames for the commands corresponding to your installation.',source:"@site/docs/Installation/updating.md",sourceDirName:"Installation",slug:"/Installation/updating",permalink:"/docs/next/Installation/updating",draft:!1,editUrl:"https://github.com/ControlPanel-gg/docs/tree/main/docs/Installation/updating.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"defaultSidebar",previous:{title:"Troubleshooting",permalink:"/docs/next/Installation/troubleshooting"},next:{title:"General Info",permalink:"/docs/next/Packages/general-info"}},s={},d=[{value:"Enable Maintenance Mode",id:"enable-maintenance-mode",level:3},{value:"Pulling the New Files",id:"pulling-the-new-files",level:3},{value:"Update Dependencies",id:"update-dependencies",level:3},{value:"Updating the Database",id:"updating-the-database",level:3},{value:"Clear Compiled Template Cache",id:"clear-compiled-template-cache",level:3},{value:"Set Permissions",id:"set-permissions",level:3},{value:"Restarting Queue Workers",id:"restarting-queue-workers",level:3},{value:"Disable Maintenance Mode",id:"disable-maintenance-mode",level:3}],p={toc:d};function c(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"updating"},"Updating"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},'Users, folders and filenames have been renamed from "dashboard" \u21d2 "controlpanel". Be aware that the provided commands may not fit your installation. Please change the users, folder and filenames for the commands corresponding to your installation.')),(0,r.kt)("h3",{id:"enable-maintenance-mode"},"Enable Maintenance Mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd /var/www/controlpanel\nsudo php artisan down\n")),(0,r.kt)("h3",{id:"pulling-the-new-files"},"Pulling the New Files"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo git stash\nsudo git pull\nsudo chmod -R 755 /var/www/controlpanel\n")),(0,r.kt)("h3",{id:"update-dependencies"},"Update Dependencies"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo composer install --no-dev --optimize-autoloader\n")),(0,r.kt)("h3",{id:"updating-the-database"},"Updating the Database"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan migrate --seed --force\n")),(0,r.kt)("h3",{id:"clear-compiled-template-cache"},"Clear Compiled Template Cache"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan view:clear\nsudo php artisan config:clear\n")),(0,r.kt)("h3",{id:"set-permissions"},"Set Permissions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# If using NGINX or Apache (not on CentOS):\nsudo chown -R www-data:www-data /var/www/controlpanel/\n\n# If using NGINX on CentOS:\nsudo chown -R nginx:nginx /var/www/controlpanel/\n\n# If using Apache on CentOS\nsudo chown -R apache:apache /var/www/controlpanel/\n")),(0,r.kt)("h3",{id:"restarting-queue-workers"},"Restarting Queue Workers"),(0,r.kt)("p",null,"After every update, you should restart the queue worker to ensure that the new code is loaded in and used."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan queue:restart\n")),(0,r.kt)("h3",{id:"disable-maintenance-mode"},"Disable Maintenance Mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo php artisan up\n")))}c.isMDXComponent=!0}}]);